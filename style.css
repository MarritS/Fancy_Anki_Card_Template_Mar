/* =========================================================
   ANKI THEME – CLEAN LIGHT/DARK FOUNDATION
   ---------------------------------------------------------
   Goals:
   1) All colors come from CSS variables
   2) Light mode = :root variables
   3) Dark mode = .nightMode overrides (Anki toggles this)
   4) Outer background = --bg-main
      Card container background = --bg-card
      Inner cards background = --bg-soft
========================================================= */


/* =========================================================
   THEME TOKENS (LIGHT DEFAULT)
========================================================= */

:root {
  --bg-main: #f5f6fa;
  --bg-card: #ffffff;
  --bg-soft: #e9ecf3;
  --bg-accent: #179ee0;

  --text-main: #0a0e1f;
  --text-soft: #3a3f55;
  --text-invert: #ffffff;

  --border-main: #d0d5e2;

  --hover-bg: #0a0e1f;
  --hover-text: #ffffff;

  /* Tag text is separate so you can tune readability */
  --tag-text: #ffffff;

  /* Optional “Deck Options” variable (keep once, not 4x) */
  --deckOptionsCss-TagColor: var(--tag-text);
}


/* =========================================================
   THEME TOKENS (DARK MODE OVERRIDE)
   ---------------------------------------------------------
   Anki typically adds `.nightMode` to <body>.
   Some versions attach it to <html> as well, so we cover both.
========================================================= */

.nightMode,
html.nightMode,
body.nightMode {
  --bg-main: #05040f;
  --bg-card: #0a0e1f;
  --bg-soft: #11182a;
  --bg-accent: #179ee0;

  --text-main: #fafdfd;
  --text-soft: #cfd3e6;
  --text-invert: #0a0e1f;

  --border-main: rgba(250, 253, 253, 0.35);

  --hover-bg: #fafdfd;
  --hover-text: #0a0e1f;

  --tag-text: #fafdfd;

  --deckOptionsCss-TagColor: var(--tag-text);
}


/* =========================================================
   BASE RESET (SAFE)
   ---------------------------------------------------------
   Keep resets minimal; aggressive resets can break Anki UI.
========================================================= */

* {
  box-sizing: border-box;
}

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}


/* =========================================================
   OUTER APP BACKGROUNDS (ANKI SHELL)
   ---------------------------------------------------------
   These selectors target Anki's outer containers so the area
   outside your cards uses --bg-main in both themes.
========================================================= */

html,
body,
.reviewer,
#qa,
#qa_box,
#reviewer,
.review {
  background-color: var(--bg-main) !important;
  color: var(--text-main);
}


/* =========================================================
   YOUR CARD LAYOUT CONTAINERS
========================================================= */

.card-container {
  min-height: 100vh;
  padding: 32px;
  margin-bottom: 24px;
  background-color: var(--bg-card) !important;
}


/* =========================================================
   IMAGES
========================================================= */

img {
  display: block;
  margin: 16px auto;
  max-width: 100%;
  height: auto;
  border-radius: 16px;
}


/* =========================================================
   NAVBAR / TOP UI (ANKIWEB / SOME CLIENTS)
   ---------------------------------------------------------
   Note: targeting hashed Svelte classes is fragile.
   We keep it but isolate it here so it’s easy to delete later.
========================================================= */

.navbar,
.bg-gray.svelte-uhvvkf.svelte-uhvvkf {
  display: flex;
  align-items: center;
  background-color: var(--bg-main);
  border-bottom: 4px solid var(--border-main);
}

.align-middle {
  color: var(--text-main);
}

.navbar-nav {
  margin: 0;
}

.navbar .container {
  display: flex;
  justify-content: center;
  flex-wrap: nowrap;
}

.nav-item {
  display: flex;
  justify-content: center;
  align-items: center;

  padding: 7.5px 16px;
  margin: 8px;
  border-radius: 16px;

  background-color: var(--bg-soft);
  color: var(--text-main);

  font-family: Poppins, Arial, sans-serif;
  font-weight: 700;
  font-size: 13px;
  text-transform: uppercase;

  transition: transform 0.3s ease, background-color 0.3s ease, color 0.3s ease;
}

.nav-link {
  color: inherit !important;
}

.nav-item:hover {
  transform: scale(1.1);
  background-color: var(--hover-bg);
  color: var(--hover-text);
}


/* =========================================================
   STUDY MENUS
========================================================= */

.float-start,
.float-end {
  display: flex;
  align-items: center;
  width: 50%;
}

.float-start { justify-content: flex-end; }
.float-end { justify-content: flex-start; }

.float-start .btn-outline-primary,
.float-end .count {
  padding: 7.5px 14px;
  margin: 8px;
  height: 28px;
  border-radius: 16px;

  background-color: var(--bg-soft);
  color: var(--text-main);

  font-family: Arial, sans-serif;
  font-weight: 700;
  font-size: 13px;
  text-transform: uppercase;

  cursor: pointer;
  transition: transform 0.3s ease, background-color 0.3s ease, color 0.3s ease;
}

.float-start .btn-outline-primary:hover,
.float-end .count:hover {
  transform: scale(1.1);
  background-color: var(--hover-bg);
  color: var(--hover-text);
}


/* =========================================================
   ANSWER BAR
========================================================= */

#ansarea,
#ansarea.svelte-1s4vml8,
#ansarea.svelte-192a69y {
  margin: 0;
  background-color: var(--bg-main);
  border-top: 4px solid var(--border-main);
}

.text-center,
td {
  color: var(--text-main);
}


/* =========================================================
   ANSWER BUTTONS
========================================================= */

.btn-primary,
.btn-secondary {
  display: flex;
  justify-content: center;
  align-items: center;

  padding: 7.5px 16px;
  margin: 8px;
  height: 40px;
  border-radius: 16px;

  font-family: Poppins, Arial, sans-serif;
  font-weight: 700;
  font-size: 13px;
  text-transform: uppercase;

  transition: transform 0.3s ease, background-color 0.3s ease, color 0.3s ease;
}

.btn-primary {
  background-color: var(--bg-accent);
  color: var(--text-invert);
}

.btn-secondary {
  background-color: var(--bg-soft);
  color: var(--text-main);
}

.btn-primary:hover {
  transform: scale(1.1);
  background-color: var(--hover-bg);
  color: var(--bg-accent);
}

.btn-secondary:hover {
  transform: scale(1.1);
  background-color: var(--hover-bg);
  color: var(--hover-text);
}


/* =========================================================
   CARD CONTENT BLOCKS
========================================================= */

.front-card,
.common-card {
  padding: 16px;
  margin-bottom: 24px;
  border-radius: 8px;

  background-color: var(--bg-soft) !important;
  color: var(--text-main);

  font-family: Poppins, Arial, sans-serif;
}

.front-card {
  font-size: 24px;
  font-weight: 600;
}

.common-card {
  font-size: 18px;
  font-weight: 300;
}

/* Inherit colors for content inside the card blocks */
.front-card *,
.common-card * {
  color: inherit;
}

/* Hover effect */
.front-card:hover,
.front-card:hover *,
.common-card:hover,
.common-card:hover * {
  background-color: var(--hover-bg) !important;
  color: var(--hover-text);
}


/* =========================================================
   TAGS
========================================================= */

.tags {
  padding: 7.5px 16px;
  margin: 8px 8px 24px;
  border-radius: 16px;

  background-color: var(--bg-accent);
  color: var(--deckOptionsCss-TagColor);

  font-family: Poppins, Arial, sans-serif;
  font-weight: 700;
  font-size: 13px;
  text-transform: uppercase;

  transition: transform 0.3s ease, background-color 0.3s ease, color 0.3s ease;
}

.tags:hover {
  transform: scale(1.1);
  background-color: var(--hover-bg);
  color: var(--bg-accent);
}

.tags:empty {
  display: none;
}


/* =========================================================
   HEADERS / SUBTITLES
========================================================= */

.front-card h1, .front-card h2, .front-card h3, .front-card h4, .front-card h5, .front-card h6,
.common-card h1, .common-card h2, .common-card h3, .common-card h4, .common-card h5, .common-card h6,
.subtitle {
  font-weight: 700;
}

.common-card h1 { font-size: 24px; }
.common-card h2 { font-size: 22px; }
.common-card h3 { font-size: 20px; }
.common-card h4 { font-size: 18px; }


/* =========================================================
   LISTS
========================================================= */

.front-card ul, .front-card ol,
.common-card ul, .common-card ol {
  list-style-position: inside;
  padding-left: 0;
  margin-left: 0;
}

.front-card li,
.common-card li {
  padding-left: 8px;
}


/* =========================================================
   MOBILE
========================================================= */

@media (max-width: 992px) {
  .float-end { display: none; }

  .float-start {
    width: 100%;
    justify-content: center;
  }

  .card-container {
    width: 90%;
    margin: 16px auto;
  }
}